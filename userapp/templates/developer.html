{% extends 'flow.html' %}
{% block content %}

    <div class="index-div" style="width: 70%; height: auto; margin-top: 2rem; margin-left: 2rem;">
        <h5>Developer: </h5>{{dev_info.display_name}}<br>
        {% if dev_info.headshot %}
            <img style="border-radius: 2rem;" height="300" src='/media/{{dev_info.headshot}}' >
        {% elif not dev_info.headshot %}
            <svg style="border-radius: 2rem;" height="300" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><rect height="100%" fill="#55595c"/></svg>
        {% endif %}
        {% comment %} <img height=300 src='/media/{{dev_info.headshot}}' ><br> {% endcomment %}
        <h5>Github Link: </h5><a href="{{dev_info.github_link}}">{{dev_info.github_link}}</a><br>
        <h5>Bio: </h5>{{dev_info.bio}}<br>
        {% if request.user.display_name == dev_info.display_name %}
            <button><a href="{% url 'edit_user' dev_info.id %}">Edit User</a></button>
        {% elif not user.is_authenticated %}
            <button><a href="{% url 'signin' %}">Sign In To Interact With This User!</a></button>
        {% endif %}
    </div>
    {% if posts|length > 0 %}
        <div class="container" style="margin-top: 2rem; !important">
            <div class="row">
                {% for post in posts %}
                    <div class="col-md-4">
                    <div class="card mb-4 shadow-sm" style="border-radius: 2rem;">
                        {% if post.screen_shot %}
                            <img style="border-radius: 2rem;" width="100%" height="300" src='{{ post.screen_shot.url }}' >
                        {% elif not post.screen_shot %}
                            <svg class="bd-placeholder-img card-img-top" style="border-radius: 2rem;" width="100%" height="300" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/></svg>
                        {% endif %}
                        <div class="card-body">
                        <h3><a href="/project/{{post.id}}">{{post.title}}</a></h3>
                        <h5>Project Programming Lanugage:  {{ post.get_post_type_display }}</h5>
                        <h5>Description</h5>
                        <p> {{post.description}}</p>
                        <p>Likes: {{post.up_vote}}</p>
                        <p>Time Submitted: {{post.post_time}}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group">
                                <button><a href="{% url 'up_vote' post.id %}">Like this project</a></button>
                                <button><a href="{% url 'comment_add_view' post.id %}">Comment on Project</a></button>
                                {% comment %} <button><a href="{% url 'post_edit' post.id %}">Edit Project</a></button> {% endcomment %}
                                {% comment %} <button><a href="{% url 'comment_add_view' post.id %}">Comment on Project</a></button> {% endcomment %}
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% elif posts|length == 0 %}
        <h3>You have no projects at this time. Make a new project <a href="/add_project/">here!</a></h3>
    {% endif %}
    

{% endblock %}